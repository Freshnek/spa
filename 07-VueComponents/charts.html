<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <title>Charts</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.3/Chart.min.js"></script>
    </head>
    <body>
        <div id="app">
            <charts></charts>
        </div>
    </body>
    <script>
        Vue.component('charts', {
            template: '<canvas id="chart" width="300" height="100"></canvas>',
        });
        new Vue({
            el: '#app',
            data: {
                languages: [
                    {
                        language: 'Python',
                        popularity: 25.95,
                    },
                    {
                        language: 'Java',
                        popularity: 21.42,
                    },
                    {
                        language: 'JavaScript',
                        popularity: 8.26,
                    },
                    {
                        language: 'C#',
                        popularity: 7.62,
                    },
                    {
                        language: 'Php',
                        popularity: 7.37,
                    },
                ],
            },
            mounted() {
                let myChart = document.getElementById('chart').getContext('2d');
                let chartLabels = [];
                let chartData = [];

                this.languages.forEach(language => {
                    chartLabels.push(language.language)
                    chartData.push(language.popularity)
                })

                let chart = new Chart(myChart, {
                    type: 'bar',
                    data: {
                        labels: chartLabels,
                        datasets: [
                            {
                                label: 'Popularity in',
                                data: chartData,
                                backgroundColor: [
                                    'rgba(255, 99, 132, 0.2)',
                                    'rgba(54, 162, 235, 0.2)',
                                    'rgba(255, 206, 86, 0.2)',
                                    'rgba(75, 192, 192, 0.2)',
                                    'rgba(75, 192, 192, 0.2)',
                                ],
                            },
                        ],
                    },
                });
            },
        });
    </script>
</html>
